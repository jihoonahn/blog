---
import Layout from "@layouts/Layout.astro";
import type { MetaData } from "~/types";

const metadata: MetaData = {
  title: "404 - í˜ì´ì§€ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤",
  description:
    "ìš”ì²­í•˜ì‹  í˜ì´ì§€ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. í™ˆí˜ì´ì§€ë¡œ ëŒì•„ê°€ì‹œê±°ë‚˜ ë‹¤ë¥¸ í˜ì´ì§€ë¥¼ í™•ì¸í•´ë³´ì„¸ìš”.",
};
---

<Layout metadata={metadata}>
  <div class="max-w-6xl mx-auto px-4">
    <div class="min-h-screen flex items-center justify-center">
      <div class="card max-w-md mx-auto text-center">
        <h1 class="text-4xl font-bold mb-4">404</h1>
        <h2 class="text-2xl font-semibold mb-4">í˜ì´ì§€ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤</h2>
        <p class="text-secondary mb-6">
          ìš”ì²­í•˜ì‹  í˜ì´ì§€ê°€ ì¡´ì¬í•˜ì§€ ì•Šê±°ë‚˜ ì´ë™ë˜ì—ˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
        </p>
        <div class="space-y-4">
          <a href="/" class="btn btn-primary block">ğŸ  í™ˆìœ¼ë¡œ ëŒì•„ê°€ê¸°</a>
          <button onclick="history.back()" class="btn block"
            >â† ì´ì „ í˜ì´ì§€</button
          >
        </div>

        <!-- í…Œë§ˆ í…ŒìŠ¤íŠ¸ ì„¹ì…˜ -->
        <div class="mt-8 p-4 border border-primary rounded-lg">
          <h3 class="font-semibold mb-2">í…Œë§ˆ í…ŒìŠ¤íŠ¸</h3>
          <p class="text-sm text-tertiary mb-2">
            í˜„ì¬ í…Œë§ˆ: <span id="current-theme">ë¡œë”© ì¤‘...</span>
          </p>
          <button id="test-theme-toggle" class="btn btn-primary text-sm"
            >í…Œë§ˆ í† ê¸€ í…ŒìŠ¤íŠ¸</button
          >
        </div>
      </div>
    </div>
  </div>

  <script>
    // í…Œë§ˆ ìƒíƒœ í‘œì‹œ
    function updateThemeDisplay() {
      const currentTheme =
        document.documentElement.getAttribute("data-theme") || "light";
      const themeDisplay = document.getElementById("current-theme");
      if (themeDisplay) {
        themeDisplay.textContent = currentTheme;
        themeDisplay.className =
          currentTheme === "dark" ? "text-blue-400" : "text-blue-600";
      }
    }

    // í…ŒìŠ¤íŠ¸ ë²„íŠ¼ ì´ë²¤íŠ¸
    document.addEventListener("DOMContentLoaded", function () {
      updateThemeDisplay();

      const testButton = document.getElementById("test-theme-toggle");
      if (testButton) {
        testButton.addEventListener("click", function () {
          const currentTheme =
            document.documentElement.getAttribute("data-theme") || "light";
          const newTheme = currentTheme === "light" ? "dark" : "light";

          document.documentElement.setAttribute("data-theme", newTheme);
          localStorage.setItem("theme", newTheme);
          updateThemeDisplay();

          console.log("Theme changed to:", newTheme);
        });
      }

      // í…Œë§ˆ ë³€ê²½ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
      window.addEventListener("themeChanged", function (e) {
        updateThemeDisplay();
        console.log("Theme changed event received:", e.detail);
      });
    });
  </script>
</Layout>
