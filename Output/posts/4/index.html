<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8" name="viewport" content="width=device-width, initial-scale=1"/><title>JiHoonAHN Blog</title><meta name="twitter:title" content="JiHoonAHN Blog"/><meta name="og:title" content="JiHoonAHN Blog"/><meta name="description" content="This is a personal blog for iOS Developer JiHoonAHN."/><meta property="og:description" content="Let's study the RIBs made by Uber!"/><meta property="og:url" content="https://blog.jihoon.me"/><meta property="og:image" content="/images/logo/Pelagornis_dark.jpg"/><meta property="og:type" content="website"/><link rel="icon" type="image/x-icon" href="/images/Icon/icon.svg"/><script src="https://kit.fontawesome.com/662f6d0c39.js" crossorigin="anonymous"></script><script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script><link rel="stylesheet" href="/theme/default/default_style.css"/><link rel="stylesheet" href="/theme/header/header_style.css"/><link rel="stylesheet" href="/theme/footer/footer_style.css"/><link rel="stylesheet" href="/theme/home/home_style.css"/><link rel="stylesheet" href="/theme/post/post_style.css"/><link rel="stylesheet" href="/theme/tag/tag_style.css"/><link rel="stylesheet" href="/theme/tagDetail/tagDetail_style.css"/><link rel="stylesheet" href="/theme/page/debate/debate_style.css"/><link rel="stylesheet" href="/theme/page/about/about_style.css"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com"/><link href="https://fonts.googleapis.com/css2?family=Open+Sans&display=swap" rel="stylesheet"/></head><body><div class="home-template has-cover"><div class="viewport"><header id="blog-head" class="blog-head outer"><nav class="blog-head-inner inner"><div class="blog-head-brand"><a class="blog-head-logo" href="/"><img src="/images/logo/logo.svg"/></a><div class="blog-head-brand-wrapper"><button class="blog-search"><i class="fa-solid fa-magnifying-glass"></i></button><button class="blog-menu"><i class="fa-solid fa-bars"></i></button></div></div><div class="blog-head-menu"><ul class="nav"><li class="nav-item"><a href="/">Home</a></li><li class="nav-item"><a href="/debate">Debate</a></li><li class="nav-item"><a href="/about">About</a></li></ul></div><div class="blog-head-actions"><button class="blog-search"><i class="fa-solid fa-magnifying-glass"></i></button></div></nav><script src="/js/Header/header-menu.js" defer></script><script src="/js/Header/header-scroll.js" defer></script></header><article><header class="site-post-head"><div class="site-post-head-image" style="background-image: url(/images/Image/posts/4.svg)"></div></header><div class="site-post-head-title"><h1>RIBs</h1><section class="site-post-full-meta"><time>2022.10.25</time><span class="date-divider">|</span><a href="/tags/swift">Swift. </a><a href="/tags/architecture">Architecture. </a><a href="/tags/ribs">RIBs. </a></section></div><div class="site-post-body"><div><p>Uber에서 만든 RIBs에 대해서 공부해 보겠습니다.</p><h3>What is RIBs?</h3><p>RIBs는 Uber에서 만든 cross-platform Mobile Architecture Framework 입니다.</p><p>공식 Github : <a href="https://github.com/uber/RIBs">RIBs</a></p><img width="100%"  alt="my-option" src="https://github.com/uber/ribs/raw/assets/documentation/ribs.png">
</img><p>RIBs는 Router, Interactor, Builder의 약자입니다.</p><p>하나의 RIB은 Router, Interactor, Builder를 필수적으로 구현해야하고 View와 Presenter는 필요에 따라 구성됩니다.</p><hr><h3>각각의 역할</h3><p><strong>Builder</strong></p><ul><li>RIBs 의 모든 구성요소를 생성하고 DI를 정의합니다. 즉 Router, Interactor, View, Component를 모두 생성합니다.</li></ul><p><strong>Component</strong></p><ul><li>부모 RIB의 Builder가 Component를 통해 자식 RIB의 Builder로 의존성 주입시켜줍니다.</li></ul><p><strong>Router</strong></p><ul><li>자식 RIB를 attach, detach하여 RIBs 논리적 트리 구조를 형성합니다.</li></ul><p><strong>Interactor</strong></p><ul><li>Business logic을 수행하며 Router로 Routing call 그리고 RIBs의 attach와 detach를 요청하거나, Presenter로 Data model를 전달합니다.</li></ul><p><strong>View</strong></p><ul><li>UI를 담당하는 로직입니다.</li><li>UI Event를 Presenter로 전달하거나 View model을 받아서 UI를 업데이트합니다.</li></ul><p><strong>Presenter</strong></p><ul><li>Interactor와 View간의 통신을 담당하며, Business model을 View model을 변환하는 역할로 상태를 가지고 있지 않은 클래스입니다. Presenter를 생략하는 경우 View model 변환의 책임은 View 또는 Interactor가 되어야 합니다.</li></ul><hr><p>필요에 따라 Presenter와 View가 구성된다의 의미는, VIPER 패턴과 달리 View가 포함되지 않고 비즈니스 로직으로만 구성된 Viewless RIB의 생성이 가능하다는 의미입니다.</p><h3>RIBs Tree</h3><img width="100%"  alt="my-option" src = "https://github.com/uber/ribs/raw/assets/documentation/state.gif"></img><p>RIBs는 논리적 트리구조를 형상하여, 부모 RIB와 자식 RIB 간의 통신을 합니다.</p><p>RIBs 간의 통신은 Interactor가 담당합니다.</p><p>부모와 자식간의 소통은 Observable Stream을 넘겨주어서 데이터를 전달합니다.</p><p>자식에서 부모로의 통신은 자식 Interactor에서 부모 Interactor을 Listener 인터페이스로 접근하게 됩니다.</p><h3>RIBs LifeCycle</h3><img width= "60%" alt="my-option" src = "https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FbpxXeS%2Fbtq2IkXxyk4%2Fpy5OqSBLtz0UUNbkdRAw3k%2Fimg.png"></img><ul><li>RIB의 Life cycle은 RIB이 Attach, Detach되는 상태가 존재합니다.</li></ul><img width= "60%" alt="my-option" src = "https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FbjTQ91%2Fbtq2HH6zXot%2FWLQuM9QXgRkO4nX8E7KAK0%2Fimg.png" ></img><ul><li>Router의 Animation설정이 필요하므로 Router에 Will, did에 관한 라이프사이클을 추가하면 사용하기 편리하게 만들 수 있습니다.</li></ul><h3>RIBs의 장단점</h3><h4>장점</h4><ul><li>“제대로 된 모듈화가 목적”이지만 VIPER는 그러지 않는 점이 존재</li><li>View의 Tree를 중심적으로 앱이 진행되는 단점, View에 의해 앱 상태가 동작되는 장점 → RIBs의 트리로 보완</li><li>View와 Business tree가 밀접하게 결합되어 있어, UI로직만 포함하거나 business 로직만 포함하는 노드를 구현하기 힘든 점<ul><li>RIBs는 Viewless RIB을 이용해서 Business Logic이 UI Logic에 종속되지 않게 만들 수 있습니다.</li></ul></li></ul><h4>단점</h4><ul><li>Boilerplate: 한 기능에 많은 클래스 수, 하나의 파일에 여러가지 클래스</li><li>Framework 의존성: RIBs라는 한 프레임워크에 프로젝트 전체가 종속</li></ul><h3>Template</h3><p><a href="https://github.com/uber/RIBs/tree/main/ios/tooling">공식 Template</a> | <a href="https://github.com/JiHoonAHN/Xcode-Template/tree/main/ModernRIBs%20or%20RIBs">직접 개선한 RIBs Template</a></p></div></div><script src="https://utteranc.es/client.js" repo="JiHoonAHN/Blog" issue-term="pathname" label="comments" theme="github-light" crossorigin="anonymous" async></script></article><footer class="site-footer outer"><div class="inner"><section class="copyright"><a href="https://github.com/Pelagornis">Pelagornis</a> © 2022</section><nav class="site-footer-nav"><ul class="nav"><li class="nav-list-item"><a href="/">Home</a></li><li class="nav-list-item"><a href="/debate">Debate</a></li><li class="nav-list-item"><a href="/about">About</a></li></ul></nav><ul class="site-footer-social-list"><li class="site-footer-social-list-item"><a href="https://github.com/JiHoonAHN"><i class="fab fa-github-square"></i></a></li><li class="site-footer-social-list-item"><a href="mailto:official@jihoon.me"><i class="fas fa-envelope-open-text"></i></a></li></ul></div></footer></div><script src="/js/Channel_talk/Channel_talk.js" defer></script></div></body></html>